---
description: Limitation des menaces et des risques de vulnérabilité (réplication)
title: Limitation des menaces et des risques de vulnérabilité (réplication) | Microsoft Docs
ms.custom: ''
ms.date: 03/07/2017
ms.prod: sql
ms.prod_service: database-engine
ms.reviewer: ''
ms.technology: replication
ms.topic: conceptual
helpviewer_keywords:
- attacks [SQL Server replication]
- threats [SQL Server replication security]
- security [SQL Server replication], threats
- security threats [SQL Server replication]
ms.assetid: 314fe497-56d8-4192-98e9-21b87cf8db04
author: MashaMSFT
ms.author: mathoma
monikerRange: =azuresqldb-mi-current||>=sql-server-2016||=sqlallproducts-allversions
ms.openlocfilehash: 2aba1290ebbddf9800a81b0166f557a4e79e216c
ms.sourcegitcommit: e700497f962e4c2274df16d9e651059b42ff1a10
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 08/17/2020
ms.locfileid: "88490545"
---
# <a name="threat-and-vulnerability-mitigation-replication"></a>Limitation des menaces et des risques de vulnérabilité (réplication)
[!INCLUDE[sql-asdbmi](../../../includes/applies-to-version/sql-asdbmi.md)]
  Cette rubrique décrit des techniques pour réduire les menaces auxquelles est exposée une topologie de réplication.  
  
## <a name="encryption"></a>Chiffrement  
 Le chiffrement est le processus selon lequel des données sont converties dans un format incompréhensible sans une clé spéciale, de telle sorte que seul le destinataire prévu puisse les lire. La réplication ne chiffre pas les données stockées dans des tables ou envoyées sur des connexions réseau. En effet, à l’origine, le chiffrement est disponible au niveau transport avec un certain nombre de technologies, telles que les technologies standard suivantes : Les réseaux privés virtuels (VPN), le protocole TLS (Transport Layer Security), anciennement SSL (Secure Sockets Layer), et la sécurité IP (IPSEC). Nous recommandons l'utilisation de l'une de ces méthodes de chiffrement pour les connexions établies entre les ordinateurs d'une topologie de réplication. Pour plus d’informations, consultez [Activer des connexions chiffrées dans le moteur de base de données &#40;Gestionnaire de configuration SQL Server&#41;](../../../database-engine/configure-windows/enable-encrypted-connections-to-the-database-engine.md). Pour plus d'informations sur l'utilisation des réseaux VPN et de TLS pour répliquer les données sur Internet, consultez [Securing Replication Over the Internet](../../../relational-databases/replication/security/securing-replication-over-the-internet.md).  
  
 Si vous utilisez TLS pour sécuriser les connexions entre ordinateurs dans une topologie de réplication, spécifiez la valeur **1** ou **2** pour le paramètre **-EncryptionLevel** de chaque agent de réplication (la valeur **2** est recommandée). La valeur **1** spécifie que le chiffrement est utilisé, mais que l'agent ne vérifie pas si le certificat de serveur TLS/SSL est signé par un émetteur fiable ; la valeur **2** indique que le certificat est vérifié. Les paramètres des agents peuvent être spécifiés dans des profils d'agent et sur la ligne de commande. Pour plus d'informations, consultez les pages suivantes :  
  
-   [Utiliser des profils d’agent de réplication](../../../relational-databases/replication/agents/work-with-replication-agent-profiles.md)  
  
-   [Afficher et modifier des paramètres d’invite de commandes d’un Agent de réplication &#40;SQL Server Management Studio&#41;](../../../relational-databases/replication/agents/view-and-modify-replication-agent-command-prompt-parameters.md)  
  
-   [Concepts des exécutables de l'agent de réplication](../../../relational-databases/replication/concepts/replication-agent-executables-concepts.md)  
  
 La réplication se comporte de la façon suivante par rapport aux clés primaires de base de données, utilisées pour chiffrer les données :  
  
-   Si une clé principale apparaît dans une base de données impliquée dans le processus de réplication (base de données de publication, d'abonnement ou de distribution), la réplication chiffre et déchiffre les mots de passe des agents de cette base de données à l'aide d'une clé symétrique de base de données [!INCLUDE[ssSQL11](../../../includes/sssql11-md.md)] . Si des clés principales sont utilisées, une clé principale doit être créée dans chaque base de données impliquée dans la réplication. Pour plus d’informations sur la création de clés principales, consultez [CREATE MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/create-master-key-transact-sql.md).  
  
-   La réplication ne réplique pas les clés principales. Si vous avez besoin de la clé principale sur l'Abonné, vous devez l'exporter à partir de la base de données de publication à l'aide de BACKUP MASTER KEY, puis l'importer dans la base de données d'abonnement à l'aide de RESTORE MASTER KEY. Pour plus d’informations, consultez [BACKUP MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/backup-master-key-transact-sql.md) et [RESTORE MASTER KEY &#40;Transact-SQL&#41;](../../../t-sql/statements/restore-master-key-transact-sql.md).  
  
-   Si une clé principale est définie pour une base de données d’abonnement pouvant être attachée, spécifiez le mot de passe de la clé principale à l’aide du paramètre `@db_master_key_password` de [sp_attachsubscription &#40;Transact-SQL&#41;](../../../relational-databases/system-stored-procedures/sp-attachsubscription-transact-sql.md). La base de données est ainsi attachée à l'Abonné.  
  
 Pour plus d'informations sur le chiffrement et les clés principales, consultez [Encryption Hierarchy](../../../relational-databases/security/encryption/encryption-hierarchy.md).  
  
 La réplication permet de publier des données de colonnes chiffrées. Pour déchiffrer et exploiter ces données sur l'Abonné, la clé employée pour chiffrer les données sur le serveur de publication doit également être présente sur l'Abonné. La réplication n'offre pas un mécanisme sécurisé de transport des clés de chiffrement. Vous devez manuellement recréer la clé de chiffrement sur l'Abonné. Pour plus d’informations, consultez [Répliquer des données dans des colonnes chiffrées &#40;SQL Server Management Studio&#41;](../../../relational-databases/replication/security/replicate-data-in-encrypted-columns-sql-server-management-studio.md).  
  
## <a name="see-also"></a>Voir aussi  
 [Identité et contrôle d’accès pour la réplication](../../../relational-databases/replication/security/identity-and-access-control-replication.md)   
 [Afficher et modifier les paramètres de sécurité de la réplication](../../../relational-databases/replication/security/view-and-modify-replication-security-settings.md)   

  
  
