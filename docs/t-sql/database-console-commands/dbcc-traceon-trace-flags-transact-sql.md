---
title: Indicateurs de trace (Transact-SQL) | Microsoft Docs
ms.custom: ''
ms.date: 03/27/2020
ms.prod: sql
ms.prod_service: sql-database
ms.reviewer: ''
ms.technology: t-sql
ms.topic: language-reference
dev_langs:
- TSQL
helpviewer_keywords:
- trace flags [SQL Server], about trace flags
- trace flags [SQL Server]
- global trace flags [SQL Server]
- flags [SQL Server]
- session trace flags [SQL Server]
- performance [SQL Server], trace
- debugging [SQL Server], trace flags
ms.assetid: b971b540-1ac2-435b-b191-24399eb88265
author: pmasl
ms.author: pelopes
ms.openlocfilehash: 248377fa1c4d498d6ffeb5b72518b2baf322362a
ms.sourcegitcommit: 216f377451e53874718ae1645a2611cdb198808a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 07/28/2020
ms.locfileid: "87248521"
---
# <a name="dbcc-traceon---trace-flags-transact-sql"></a>DBCC TRACEON - Indicateurs de trace (Transact-SQL)

[!INCLUDE[tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md](../../includes/tsql-appliesto-ss2012-asdbmi-xxxx-xxx-md.md)]

Les indicateurs de trace sont utilisés pour définir des caractéristiques de serveur spécifiques ou pour modifier un comportement particulier. Par exemple, l’indicateur de trace 3226 est un indicateur de trace de démarrage couramment utilisé qui supprime les messages de réussite de la sauvegarde dans le journal des erreurs. Les indicateurs de trace sont fréquemment utilisés pour diagnostiquer les problèmes de performances, ou pour déboguer des procédures stockées ou des systèmes informatiques complexes, mais ils peuvent être également recommandés par le Support Microsoft pour modifier un comportement qui a un impact négatif sur une charge de travail spécifique. Tous les indicateurs de trace documentés et ceux qui sont recommandés par le Support Microsoft sont entièrement pris en charge dans un environnement de production quand ils sont utilisés comme indiqué. Notez que les indicateurs de trace de cette liste peuvent faire l’objet de considérations supplémentaires relatives à leur utilisation particulière : il est donc conseillé d’examiner attentivement toutes les recommandations données ici et/ou par votre ingénieur du support technique. De plus, à l’instar de toute modification de configuration dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], il est toujours préférable de tester minutieusement l’indicateur dans un environnement hors production avant de le déployer.

## <a name="remarks"></a>Notes  
 Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], il existe trois étendues au niveau desquelles les indicateurs de trace peuvent fonctionner : requête, session et global. Les indicateurs de trace de requête sont actifs dans le contexte d’une requête spécifique. Les indicateurs de trace de session sont actifs pour une connexion et visibles uniquement par celle-ci. Les indicateurs de trace globaux sont définis au niveau du serveur et sont visibles pour chaque connexion sur celui-ci. Certains indicateurs ne peuvent être activés qu'en tant qu'indicateurs globaux, tandis que d'autres peuvent être activés avec une étendue globale ou de session.  
  
 Les règles suivantes s’appliquent :  
-   Un indicateur de trace global doit être activé globalement. Sinon, il est sans effet. Il est recommandé d’activer les indicateurs de trace globaux au démarrage, à l’aide de l’option de ligne de commande **-T**. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur. Redémarrez SQL Server pour que l’indicateur de trace prenne effet. 
-   Si un indicateur de trace possède une étendue globale, de session ou de requête, il peut être activé avec l’étendue appropriée. Un indicateur de trace activé au niveau session n'affecte jamais une autre session et l'effet de l'indicateur de trace est perdu lorsque le SPID qui a ouvert la session se déconnecte.  
  
Les indicateurs de trace sont activés (définis sur ON) ou désactivés (définis sur OFF) de l’une des façons suivantes :
-   en utilisant les commandes DBCC TRACEON et DBCC TRACEOFF ;  
     Par exemple, pour activer l’indicateur de trace 2528 globalement, utilisez [DBCC TRACEON](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md) avec l’argument -1 : `DBCC TRACEON (2528, -1)`. L’effet de l’activation d’un indicateur de trace global avec DBCC TRACEON est perdu lors du redémarrage du serveur. Pour désactiver un indicateur de trace global, utilisez [DBCC TRACEOFF](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md) avec l’argument -1.  
-   Utilisation de l’option de démarrage **-T** pour signaler que l’indicateur de trace doit être défini au démarrage.  
     L’option de démarrage **-T** active un indicateur de trace de façon globale. Vous ne pouvez pas activer un indicateur de trace de niveau session à l'aide d'une option de démarrage. Cela garantit que l’indicateur de trace reste actif après le redémarrage d’un serveur. Pour plus d’informations sur les options de démarrage, consultez [Options de démarrage du service moteur de base de données](../../database-engine/configure-windows/database-engine-service-startup-options.md).
-   Au niveau de la requête, utilisation de [l’indicateur de requête](https://support.microsoft.com/kb/2801413) QUERYTRACEON. L’option QUERYTRACEON est prise en charge seulement pour les indicateurs de trace de l’optimiseur de requête décrits dans le tableau ci-dessous.
  
Utilisez la commande `DBCC TRACESTATUS` afin de déterminer quels indicateurs de trace sont actuellement actifs.

## <a name="trace-flags"></a>Indicateurs de trace

Le tableau ci-dessous répertorie et décrit les indicateurs de trace disponibles dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 

> [!NOTE]
> Azure SQL Database Managed Instance prend en charge les indicateurs de trace globaux suivants : 460, 2301, 2389, 2390, 2453, 2467, 7471, 8207, 9389, 10316 et 11024. Les indicateurs de trace de session ne sont pas encore pris en charge dans Managed Instance.
 
> [!NOTE]
> Certains indicateurs de trace ont été introduits dans des versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] spécifiques. Pour plus d’informations sur la version applicable, consultez l’article du support technique Microsoft associé à un indicateur de trace spécifique.

> [!IMPORTANT]
> Il est possible que le comportement des indicateurs de trace ne soit pas pris en charge dans les prochaines versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. 
  
|Indicateur de trace|Description|  
|---|---|
|**101**|Augmente le niveau de détail de la journalisation de l’agent de réplication de fusion.<br /><br />**IMPORTANT :** L’indicateur de trace 101 peut être activé pour l’[agent de fusion de réplication](../../relational-databases/replication/agents/replication-merge-agent.md) seulement avec l’option **-T** lors de l’exécution de **replmerg. exe** à partir de l’invite de commandes.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 101 n’est pas destiné à être activé en permanence dans un environnement de production, mais uniquement à des fins de résolution des problèmes limitée dans le temps. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2892633).<br /><br />**Étendue** : Agent de fusion de réplication uniquement|
|**102**|Augmente le niveau de détail de la journalisation de l’agent de réplication de fusion et la dirige vers la table *\<Distribution server>..msmerge_history*.<br /><br />**IMPORTANT :** L’indicateur de trace 102 peut être activé pour l’[agent de fusion de réplication](../../relational-databases/replication/agents/replication-merge-agent.md) seulement avec l’option **-T** lors de l’exécution de **replmerg. exe** à partir de l’invite de commandes.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 102 n’est pas destiné à être activé en permanence dans un environnement de production, mais uniquement à des fins de résolution des problèmes limitée dans le temps. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2892633).<br /><br />**Étendue** : Agent de fusion de réplication uniquement|
|**139**| Impose une sémantique de conversion correcte dans l’étendue de commandes DBCC CHECK telles que [DBCC CHECKDB](../../t-sql/database-console-commands/dbcc-checkdb-transact-sql.md), [DBCC CHECKTABLE](../../t-sql/database-console-commands/dbcc-checktable-transact-sql.md) et [DBCC CHECKCONSTRAINTS](../../t-sql/database-console-commands/dbcc-checkconstraints-transact-sql.md) lors de l’analyse de la logique de précision et de conversion améliorée introduite avec le niveau de compatibilité 130 pour des types de données spécifiques sur une base de données qui a un niveau de compatibilité inférieur. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/4010261).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM CU3, à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 et aux builds ultérieures.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 139 n’est pas destiné à être activé en permanence dans un environnement de production et il doit être utilisé dans le seul but d’effectuer les vérifications de validation de base de données décrites dans cet [article du Support Microsoft](https://support.microsoft.com/help/4010261). Il doit être désactivé immédiatement après l’exécution des vérifications de validation.<br /><br />**Étendue** : globale uniquement|
|**174**|Augmente le nombre de compartiments du cache du plan du [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] de 40 009 à 160 001 sur les systèmes 64 bits. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3026083).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale uniquement|
|**176**|Active un correctif pour résoudre les erreurs lors de la reconstruction des partitions en ligne pour les tables qui contiennent une colonne de partitionnement calculée. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3213683) et cet [article du support technique Microsoft](https://support.microsoft.com/kb/4541096).<br /><br />**Étendue** : globale ou de session|
|**205**|Crée un rapport dans le journal des erreurs quand une procédure stockée dépendante des statistiques est recompilée suite à une mise à jour automatique des statistiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Remarque :** Cet indicateur de trace requiert l’activation de l’indicateur de trace [3605](#3605).<br /><br />**Étendue** : globale uniquement|
|**260**|Imprime les informations de version relatives aux bibliothèques de liaison dynamique (DLL) des procédures stockées étendues. Pour plus d’informations sur **GetXpVersion()** , consultez [Création de procédures stockées étendues](../../relational-databases/extended-stored-procedures-programming/creating-extended-stored-procedures.md).<br /><br />**Étendue** : globale ou de session|
|**272**|Désactive la préallocation d’identité pour éviter les écarts dans les valeurs d’une colonne d’identité si le serveur redémarre de façon inattendue ou bascule vers un serveur secondaire. Notez que la mise en cache d’identité est utilisée pour améliorer les performances INSERT sur les tables comprenant des colonnes d’identité.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], pour effectuer cette opération au niveau de la base de données, utilisez l’option IDENTITY_CACHE dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Étendue** : globale uniquement|
|**460**|Remplace l’ID de message de troncation de données [8152](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-8000-to-8999) par l’ID de message [2628](../../relational-databases/errors-events/database-engine-events-and-errors.md#errors-2000-to-2999). Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4468101).<br /><br />À compter de [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option VERBOSE_TRUNCATION_WARNINGS dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU12 et aux builds ultérieures.<br /><br />**Remarque :** À partir du niveau de compatibilité de la base de données 150, l’ID de message 2628 est utilisé par défaut, et cet indicateur de trace n’a aucun effet.<br /><br />**Étendue** : globale ou de session|
|**610**|Contrôle les insertions faisant l’objet d’une journalisation minimale dans des tables indexées. Cet indicateur de trace n’est pas nécessaire à compter de SQL Server 2016, car la journalisation minimale est activée par défaut pour les tables indexées. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], quand l’opération de chargement en masse entraîne l’allocation d’une nouvelle page, toutes les lignes remplissant de manière séquentielle cette nouvelle page font l’objet d’une journalisation minimale si toutes les autres conditions préalables pour la journalisation minimale sont remplies. Les lignes insérées dans les pages existantes (aucune allocation de nouvelle page) pour conserver l’ordre d’index font toujours l’objet d’une journalisation intégrale, comme les lignes qui sont déplacées à la suite de fractionnements de pages lors du chargement. Il est également important d’activer ALLOW_PAGE_LOCKS pour les index (valeur ON définie par défaut) afin que l’opération de journalisation minimale fonctionne quand des verrous de page sont acquis au cours de l’allocation et, de ce fait, seules les allocations de pages ou d’extensions sont journalisées. Pour plus d’informations, consultez [Guide des performances de chargement des données](https://docs.microsoft.com/previous-versions/sql/sql-server-2008/dd425070(v=sql.100)).<br /><br />**Étendue** : globale ou de session|
|**634**|Désactive la tâche de compression de columnstore d'arrière-plan. [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute régulièrement la tâche d’arrière-plan du moteur de tuple qui compresse les rowgroups d’index columnstore avec des données non compressées, un rowgroup à la fois.<br /><br />La compression columnstore améliore les performances des requêtes mais consomme également des ressources système. Vous pouvez contrôler le temps que prend la compression columnstore manuellement, en désactivant la tâche de compression d’arrière-plan avec l’indicateur de trace 634, puis en appelant explicitement ALTER INDEX...REORGANIZE ou ALTER INDEX...REBUILD quand vous le souhaitez.<br /><br />**Étendue** : globale uniquement|
|**652**|Désactive les analyses de prérécupération de pages. Si vous activez l’indicateur de trace 652, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] n’apporte plus de pages de base de données dans le pool de mémoires tampons avant que ces pages de base de données ne soient consommées par les analyses. Par conséquent, les requêtes qui tirent parti de la fonctionnalité de pré-extraction de page présentent des performances inférieures. <br /><br />**Étendue** : globale ou de session|
|**661**|Désactive le processus de suppression de l’enregistrement fantôme. L’indicateur de trace 661 désactive le processus de suppression de l’enregistrement fantôme. Un enregistrement fantôme est le résultat d’une opération de suppression. Lorsque vous supprimez un enregistrement, l’enregistrement supprimé est conservé en tant qu’enregistrement fantôme. Plus tard, l’enregistrement supprimé est purgé par le processus de suppression des enregistrements fantômes. Lorsque vous désactivez ce processus, l’enregistrement supprimé n’est pas purgé. Par conséquent, l’espace consommé par l’enregistrement supprimé n’est pas libéré. Ce comportement affecte la consommation d’espace et les performances des opérations d’analyse. Pour plus d’informations, consultez le [guide de processus de nettoyage des éléments fantômes](../../relational-databases/ghost-record-cleanup-process-guide.md) <br /><br />**Étendue** : globale uniquement|
|**692**|Désactive les insertions rapides lors du chargement en masse des données dans un segment de mémoire ou un index cluster. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], les insertions rapides sont activées par défaut et tirent parti d’une journalisation minimale quand la base de données est en mode de récupération simple ou utilisant les journaux de transactions pour optimiser les performances d’insertion des enregistrements insérés dans de nouvelles pages. Avec les insertions rapides, chaque lot de chargement en masse acquiert de nouvelles extensions en ignorant la recherche d’allocation des extensions existantes avec l’espace libre disponible pour optimiser les performances d’insertion.<br /><br /> Avec les insertions rapides, les chargements en masse de lots de petite taille peuvent aboutir à une plus grande quantité d’espace inutilisé consommée par les objets ; par conséquent, il est recommandé d’utiliser une taille importante pour chaque lot afin de remplir complètement l’extension. S’il n’est pas possible d’augmenter la taille de lot, cet indicateur de trace peut aider à réduire l’espace inutilisé réservé au détriment des performances. <br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM et aux builds ultérieures.<br /><br />**Étendue** : globale ou de session|
|**715**|Active le verrou de table pour les opérations de chargement en masse dans un segment de mémoire sans index non-cluster. Quand cet indicateur de trace est activé, les opérations de chargement en masse acquièrent des verrous de mise à jour en bloc lors de la copie en bloc des données dans une table. Les verrous de mise à jour en bloc permettent à plusieurs threads de charger en masse des données simultanément dans la même table tout en empêchant les autres processus qui n’effectuent pas de chargement en masse de données d’accéder à cette table.<br /><br />Le comportement est similaire quand l’utilisateur spécifie explicitement l’indicateur TABLOCK lors du chargement en masse, ou quand le verrou de table sp_tableoption sur le chargement en masse est activé pour une table donnée. Toutefois, quand cet indicateur de trace est activé, ce comportement s’applique par défaut sans aucune modification de la requête ni de la base de données.<br /><br />**Étendue** : globale ou de session|
|**818**|Active des diagnostics d’E/S supplémentaires pour vérifier les conditions de perte d’écriture ou de lecture obsolète pendant les opérations d’E/S de fichier. L’indicateur de trace 818 active un tampon en anneau en mémoire, qui est utilisé pour le suivi des 2 048 dernières opérations d’écriture réussies effectuées par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], à l’exclusion des E/S de triage et de fichier de travail. Lorsque des erreurs telles que l’erreur 605, 823 ou 3448 se produisent, la valeur du numéro séquentiel dans le journal (LSN) du tampon entrant est comparée à celles de la liste des écritures récentes. Si le numéro LSN récupéré est plus ancien que celui spécifié pendant l’opération d’écriture, un nouveau message d’erreur est consigné dans le journal des erreurs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/826433).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], cet indicateur de trace n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|
|**834**|Utilise des allocations de pages de grande taille pour le pool de mémoires tampons, les index columnstore et les tables en mémoire. La taille des grandes pages varie en fonction de la plateforme matérielle, mais la taille de la page peut être comprise entre 2 et 16 Mo. Les pages de grande taille sont allouées au démarrage et sont conservées pendant toute la durée de vie du processus. L’indicateur de trace 834 améliore les performances en améliorant l’efficacité de la mémoire tampon de recherche de la traduction (TLB) dans le processeur. En d’autres termes, l’indicateur de trace 834 augmente l’efficacité de la gestion de la traduction d’adresses mémoire physique et virtuelle effectuée par le matériel de gestion de la mémoire. Pour plus d’informations sur SQL Server et sur les pages de grande taille, consultez le [blog ](https://techcommunity.microsoft.com/t5/sql-server-support/sql-server-and-large-pages-explained-8230/ba-p/315787).<br /><br />**Remarque :** L’indicateur de trace 834 s’applique uniquement aux versions 64 bits de SQL Server. Vous devez disposer du droit d’utilisateur Verrouiller les pages en mémoire pour activer l’indicateur de trace 834. Vous pouvez activer l’indicateur de trace 834 uniquement au démarrage. L’indicateur de trace 834 peut empêcher le serveur de démarrer si la mémoire est fragmentée et si les pages de grande taille ne peuvent pas être allouées. Par conséquent, l’indicateur de trace 834 convient mieux aux serveurs dédiés à SQL Server.<br /><br />**Remarque :** Le modèle de mémoire de pages de grande taille pré-alloue toute la mémoire SQLOS au démarrage de l’instance et ne la retourne pas au système d’exploitation. <br /><br />**Remarque :** Si vous utilisez la fonctionnalité d’index columnstore de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] jusqu’à [!INCLUDE[ssCurrent](../../includes/sscurrent-md.md)], nous vous déconseillons d’activer l’indicateur de trace 834. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3210239). Si vous utilisez [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et columnstore, consultez l’indicateur de trace [876](#876).<br /><br />**Étendue** : globale uniquement|
|**836**|Utilisez l'option Mémoire maximum du serveur pour le pool de mémoires tampons. L’indicateur de trace 836 force SQL Server à dimensionner le pool de mémoires tampons au démarrage en fonction de la valeur de l’option Mémoire maximum du serveur plutôt qu’en fonction de la mémoire physique totale. Vous pouvez utiliser l’indicateur de trace 836 pour réduire le nombre de descripteurs de mémoire tampon alloués au démarrage en mode AWE (Address Windowing Extensions) 32 bits. <br /><br />**Remarque :** L’indicateur de trace 836 s’applique uniquement aux versions 32 bits de SQL Server dont l’allocation AWE est activée. Vous pouvez activer l’indicateur de trace 836 uniquement au démarrage. <br /><br />**Étendue** : globale uniquement|
|**845**|Active les pages verrouillées sur les références standard de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quand le privilège Verrouiller les pages en mémoire est activé pour le compte de service de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/970070) et la page de documentation sur [server memory (options de configuration du serveur)](../../database-engine/configure-windows/server-memory-server-configuration-options.md#lock-pages-in-memory-lpim).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], ce comportement est activé par défaut pour les références (SKU) standard, et l’indicateur de trace 845 ne doit pas être utilisé.<br /><br />**Étendue** : globale uniquement|
|**876**|<a name="876"></a>Utilise des allocations de grandes pages pour columnstore.<br /><br />**Remarque :** Contrairement à l’indicateur de trace 834, l’utilisation de l’indicateur de trace 876 ne préalloue pas la mémoire SQLOS au démarrage de l’instance, et la mémoire inutilisée peut être libérée.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et aux builds ultérieures.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale uniquement|
|**902**|Ignore l’exécution du script de mise à niveau de base de données lors de l’installation d’une mise à jour cumulative ou d’un Service Pack. Si vous rencontrez une erreur en mode de mise à niveau de script, il est recommandé de contacter le support technique/service clientèle Microsoft SQL pour obtenir des instructions supplémentaires. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2163980).<br /><br />**AVERTISSEMENT :** Cet indicateur de trace est destiné à la résolution des problèmes de mises à jour ayant échoué en mode de mise à niveau de script et son exécution en continu n’est pas prise en charge dans un environnement de production. Les scripts de mise à niveau de base de données doivent s’exécuter correctement pour une installation complète des mises à jour cumulatives et des Service Packs. Dans le cas contraire, des problèmes inattendus peuvent affecter votre instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />**Étendue** : globale uniquement|
|**1117**|Quand un fichier du groupe de fichiers atteint le seuil de croissance automatique, la taille de tous les fichiers augmente. Cet indicateur de trace affecte toutes les bases de données. Il est uniquement recommandé si chaque base de données peut augmenter en toute sécurité tous les fichiers d’un groupe de fichiers dans les mêmes proportions.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par les options AUTOGROW_SINGLE_FILE et AUTOGROW_ALL_FILES d’ALTER DATABASE, et l’indicateur de trace 1117 n’a pas d’effet. Pour plus d’informations, consultez [Options de fichiers et de groupes de fichiers ALTER DATABASE &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-file-and-filegroup-options.md).<br /><br />**Étendue** : globale uniquement|
|**1118**|Force les allocations de pages sur des étendues uniformes, et non sur des étendues mixtes, réduisant ainsi la contention dans la page SGAM. Par défaut, quand un objet est créé, les huit premières pages sont allouées depuis des extensions différentes (extensions mixtes). Par la suite, quand d'autres pages seront nécessaires, elles seront allouées à partir de cette même étendue (étendue uniforme). La page SGAM permet d'effectuer le suivi de ces étendues mixtes et peut rapidement devenir un goulot d'étranglement en cas de nombreuses allocations de pages mixtes. Au moment de la création d'objets, l'indicateur de trace alloue les huit pages à partir de la même étendue, ce qui réduit la nécessité d'analyser la page SGAM. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/328551).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par l’option SET MIXED_PAGE_ALLOCATION d’ALTER DATABASE, et l’indicateur de trace 1118 n’a pas d’effet. Pour plus d’informations, consultez [Options ALTER DATABASE SET &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md).<br /><br />**Étendue** : globale uniquement|  
|**1204**|Retourne les ressources et les types de verrous participant à l'interblocage et la commande active affectée. Pour plus d’informations sur les blocages, consultez [Guide du verrouillage des transactions et de la gestion de versions de ligne](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Remarque :** Évitez d’utiliser l’indicateur de trace 1204 sur les systèmes gourmands en charge de travail qui provoquent des blocages. Pour plus d’informations sur les autres méthodes de détection des blocages, consultez [Guide du verrouillage des transactions et de la gestion de versions de ligne](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Étendue** : globale uniquement|  
|**1211**|Désactive l'escalade de verrous en fonction de la sollicitation de la mémoire ou du nombre de verrous. Le [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] ne promeut aucun verrou de ligne ou de page au rang de verrou de table.<br /><br />L’utilisation de cet indicateur de trace peut générer un nombre excessif de verrous. Si la mémoire des verrous devient trop importante, toute tentative d’allocation de verrous supplémentaires pour une requête peut échouer. Ceci peut entraîner un ralentissement des performances du [!INCLUDE[ssDE](../../includes/ssde-md.md)] ou provoquer des erreurs de type 1204 (impossible d'allouer la ressource du verrou) pour cause de mémoire insuffisante.<br /><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l’indicateur de trace 1211 empêche l’escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d’utiliser 1224 à la place. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />Pour plus d’informations sur la résolution des problèmes de blocage provoqués par l’escalade de verrous dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], consultez cet [article du support Microsoft](https://support.microsoft.com/help/323630).<br /><br />**Étendue** : globale ou de session|  
|**1222**|Retourne les ressources et les types de verrous participant au blocage et la commande active affectée, au format XML n'ayant à être validé par aucun schéma XSD particulier. Pour plus d’informations sur les blocages, consultez [Guide du verrouillage des transactions et de la gestion de versions de ligne](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlocks).<br /><br />**Remarque :** Évitez d’utiliser l’indicateur de trace 1222 sur les systèmes gourmands en charge de travail qui provoquent des blocages. Pour plus d’informations sur les autres méthodes de détection des blocages, consultez [Guide du verrouillage des transactions et de la gestion de versions de ligne](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#deadlock_detection).<br /><br />**Étendue** : globale uniquement|  
|**1224**|Désactive l'escalade de verrous en fonction du nombre de verrous. Cependant, une sollicitation de la mémoire peut toujours activer l'escalade de verrous. Le [!INCLUDE[ssDE](../../includes/ssde-md.md)] promeut les verrous de ligne ou de page au rang de verrous de table (ou de partition) si l'une des conditions suivantes n'est pas respectée :<br /><ul><li>Quarante pour cent de la mémoire utilisée par le [!INCLUDE[ssDE](../../includes/ssde-md.md)]. Ceci s’applique uniquement quand le paramètre **locks** de sp_configure a la valeur 0. <li>Quarante pour cent de la mémoire des verrous configurée à l’aide du paramètre **locks** de sp_configure. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).</li></ul><br />Si les deux indicateurs de trace 1211 et 1224 sont définis, 1211 est prioritaire sur 1224. Toutefois, comme l'indicateur de trace 1211 empêche l'escalade dans chaque cas, même si la mémoire est sollicitée, nous vous recommandons d'utiliser 1224. Cela permet d'éviter les erreurs liées au manque de verrous, lorsque de nombreux verrous sont utilisés.<br /><br />**Remarque :** L’escalade de verrous jusqu’à la granularité de niveau table ou HoBT peut également être contrôlée avec l’option LOCK_ESCALATION de l’instruction [ALTER TABLE](../../t-sql/statements/alter-table-transact-sql.md).<br /><br />Pour plus d’informations sur la résolution des problèmes de blocage provoqués par l’escalade de verrous dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], consultez cet [article du support Microsoft](https://support.microsoft.com/help/323630).<br /><br />**Étendue** : globale ou de session|
|**1229**|Désactive le partitionnement de verrous, quel que soit le nombre de processeurs. Par défaut, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] active le partitionnement de verrous quand un serveur a 16 processeurs ou plus pour améliorer les caractéristiques de scalabilité des systèmes plus importants. Pour plus d’informations sur le partitionnement de verrous, consultez le [guide du verrouillage des transactions et du contrôle de version de ligne](../../relational-databases/sql-server-transaction-locking-and-row-versioning-guide.md#lock_partitioning).<br /><br />**AVERTISSEMENT :** L’indicateur de trace 1229 peut provoquer une contention de verrouillages spinlock et des performances médiocres.<br /><br />**Étendue** : globale uniquement|  
|**1236**|Active le partitionnement de verrou de base de données. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2926217).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, ce comportement est contrôlé par le moteur, et l’indicateur de trace 1236 n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|
|**1237**|Permet à l’instruction ALTER PARTITION FUNCTION de respecter la priorité d’interblocage de session définie par l’utilisateur actuel au lieu d’être la victime d’interblocage probable par défaut. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/4025261).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQLv14](../../includes/sssqlv14-md.md)] et du [niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) de base de données 140, il s’agit du comportement par défaut, et l’indicateur de trace 1237 n’a pas d’effet.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**1260**|Désactive les vidages du moniteur du planificateur.<br /><br />**Étendue** : globale uniquement|   
|**1448**|Permet à l'agent de lecture du journal de réplication d'avancer même si les éléments secondaires asynchrones n'ont pas accusé réception d'une modification. Même si cet indicateur de trace a activé l'agent de lecture de journal, attendez toujours les éléments secondaires synchrones. L'agent de lecture du journal n'ira pas au delà de l'accusé réception minimum des éléments secondaires synchrones. Cet indicateur de trace s'applique à l'instance de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], et pas simplement à un groupe de disponibilité, à une base de données de disponibilité ou à une instance de l'agent de lecture de journal. Prend effet immédiatement, sans redémarrage. Cet indicateur de trace peut être activé d'avance ou lorsque l'élément secondaire asynchrone échoue. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/937041).<br /><br />**Étendue** : globale uniquement|   
|**1462**|Désactive la compression du flux de journal pour les groupes de disponibilité asynchrones. Cette fonctionnalité est activée par défaut sur les groupes de disponibilité asynchrones pour optimiser la bande passante réseau. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale uniquement| 
|**1800**|Permet l’optimisation de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] quand des disques de tailles de secteur différentes sont utilisés pour les fichiers journaux de réplicas principal et secondaire dans les environnements de copie des journaux de transaction et [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] Always On. Cet indicateur de trace ne doit être activé que sur les instances de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] avec le fichier journal des transactions résidant sur le disque avec une taille de secteur de 512 octets. Il n’est **pas** nécessaire de l’activer sur un disque avec une taille de secteur de 4 Ko. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3009974).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP1 CU13, [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP2 CU3, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU5 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement|
| **1819**| Autorise la [sauvegarde sur URL](../../relational-databases/backup-restore/sql-server-backup-to-url.md) à tirer parti d’un serveur proxy lors de l’accès aux objets blob de blocs Azure. En plus de cet indicateur de trace, vous devez définir la configuration du proxy WinHTTP sur le serveur à l’aide de l’une des méthodes suivantes : <br /><br />-L’utilitaire [proxycfg.exe](/windows/win32/winhttp/proxycfg-exe--a-proxy-configuration-tool) sur Windows XP ou Windows Server 2003 et versions antérieures. <br /> -L’utilitaire [netsh.exe](/windows/win32/winsock/netsh-exe) sur Windows Vista et Windows Server 2008 ou versions ultérieures. <br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON) |
|**1802**|Désactive la vérification de la liste de contrôle d’accès et l’emprunt d’identité lors des opérations d’attachement ou de détachement de base de données. Cela peut être utile lors de l’attachement d’une base de données et lorsque vous rencontrez des erreurs d’autorisation d’accès, comme l’erreur 5120.<br /><br />**Étendue** : globale uniquement| 
|**2301**|Activez les optimisations d’aide à la décision avancées spécifiques aux requêtes d’aide à la décision. Cette option s’applique au traitement de l’aide à la décision des jeux de données volumineux.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON) |
|**2312**|Définit le modèle d’estimation de la cardinalité de l’optimiseur de requête sur [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et versions ultérieures, selon le niveau de compatibilité de la base de données.<br /><br />**Remarque :** Si le niveau de compatibilité de la base de données est inférieur à 120, l’activation de l’indicateur de trace 2312 utilise le modèle d’estimation de cardinalité de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] (120). Pour plus d’informations, consultez [l’article du support technique Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’[indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_DEFAULT_CARDINALITY_ESTIMATION' au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)| 
|**2335**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à supposer qu’une quantité fixe de mémoire est disponible pendant l’optimisation des requêtes pour un scénario dans lequel l’[option de configuration du serveur « max server memory »](../../database-engine/configure-windows/server-memory-server-configuration-options.md) est définie avec une valeur trop élevée, ce qui conduit [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan inefficace pour une requête spécifique. Il ne limite pas la mémoire accordée par [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] pour exécuter la requête. La mémoire configurée pour [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sera toujours utilisée par le cache de données, l’exécution des requêtes et d’autres consommateurs.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2340**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à ne pas appliquer d’opération de tri (tri par lots) sur les jointures de boucles imbriquées optimisées lors de la génération d’un plan. Par défaut, [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] peut utiliser une jointure de boucles imbriquées optimisée à la place d’une analyse complète ou une jointure de boucles imbriquées avec un tri explicite, quand l’optimiseur de requête estime qu’un tri n’est probablement pas nécessaire, sans pour autant en exclure la possibilité au cas où la cardinalité ou les estimations de coût seraient incorrectes. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2009160).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’[indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZED_NESTED_LOOP' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2371**|Remplace le seuil de mise à jour des statistiques fixe par un seuil de mise à jour des statistiques linéaire. Pour plus d'informations, consultez cette [Option AUTO_UPDATE_STATISTICS](../../relational-databases/statistics/statistics.md#auto_update_statistics-option).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] et sous le [niveau de compatibilité de la base de données](../../relational-databases/databases/view-or-change-the-compatibility-level-of-a-database.md) 130, ce comportement est contrôlé par le moteur, et l’indicateur de trace 2371 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**2389**|Active automatiquement la génération de statistiques rapides pour les clés croissantes (modification de l’histogramme). Si l’indicateur de trace 2389 est défini et qu’une première colonne de statistiques est marquée comme croissante, l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. <br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2390**|Active automatiquement la génération de statistiques rapides pour les clés croissantes ou inconnues (modification de l’histogramme). Si l’indicateur de trace 2390 est défini et qu’une première colonne de statistiques est marquée comme croissante ou inconnue, l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 4139 à la place.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2422**|Permet au [!INCLUDE[ssDEnoversion](../../includes/ssdenoversion-md.md)] d’annuler une demande quand la durée maximale définie par la configuration REQUEST_MAX_CPU_TIME_SEC de Resource Governor est dépassée. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/4038419).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 et aux builds ultérieures.<br /><br />**Étendue** : globale|
|**2430**|Active un nettoyage de classe de verrous de remplacement. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2754301).<br /><br />**Étendue** : globale uniquement| 
|**2451**|Active l’équivalent du dernier plan d’exécution actuel dans sys.dm_exec_query_plan_stats.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et aux builds ultérieures.<br /><br />**Remarque :** À compter de [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option LAST_QUERY_PLAN_STATS dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />**Étendue** : globale uniquement|  
|**2453**|Permet à une variable de table de déclencher une recompilation quand un nombre suffisant de lignes a changé. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2952444).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2467**|Permet une stratégie d’allocation de thread de travail parallèle, selon le nœud auquel le moins de threads sont alloués. Pour plus d’informations, voir [Traitement de requêtes parallèles](../../relational-databases/query-processing-architecture-guide.md#parallel-query-processing). Reportez-vous à [Configurer l'option de configuration du nombre maximum de threads de travail ](../../database-engine/configure-windows/configure-the-max-worker-threads-server-configuration-option.md) pour plus d’informations sur la configuration de l’option Nombre maximum de threads de travail du serveur.<br /><br />**Remarque :** Le degré de requête de parallélisme doit tenir dans un seul nœud pour utiliser cette stratégie de remplacement, sinon la stratégie d’allocation de threads par défaut est utilisée à la place. Avec cet indicateur de trace, il est déconseillé d’exécuter des requêtes spécifiant un degré de parallélisme supérieur au nombre de planificateurs dans un seul nœud, car cela peut interférer avec des requêtes spécifiant un degré de parallélisme inférieur ou égal au nombre de planificateurs dans un seul nœud.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale uniquement|
|**2469**|Active un autre échange pour `INSERT INTO ... SELECT` dans un index columnstore partitionné. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3204769).<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**2528**|Désactive la vérification parallèle des objets par DBCC CHECKDB, DBCC CHECKFILEGROUP et DBCC CHECKTABLE. Par défaut, le degré de parallélisme est déterminé automatiquement par le processeur de requête. Le degré maximum de parallélisme est configuré de la même manière que celui des requêtes parallèles. Pour plus d’informations, consultez [Configurer l’option de configuration du serveur max degree of parallelism](../../database-engine/configure-windows/configure-the-max-degree-of-parallelism-server-configuration-option.md).<br /><br />**Remarque :** Les vérifications DBCC en parallèle doivent normalement être activées (c’est le cas par défaut). Le processeur de requêtes réévalue et ajuste automatiquement le parallélisme pour chaque table ou lot de tables vérifiées par DBCC CHECKDB.<br /><br />Le scénario d’utilisation classique est quand un administrateur système sait qu’une charge serveur va augmenter avant la fin de l’exécution de DBCC CHECKDB et choisit donc de réduire ou désactiver manuellement le parallélisme afin d’augmenter la concurrence avec une autre charge de travail utilisateur. Toutefois, la désactivation des vérifications en parallèle dans DBCC CHECKDB peut rallonger son exécution.<br /><br />**Remarque :** Si DBCC CHECKDB est exécuté avec l’option TABLOCK et que le parallélisme est désactivé, les tables peuvent être verrouillées pendant de longues périodes.<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2, une option MAXDOP est disponible pour remplacer l’option de configuration du degré maximal de parallélisme de sp_configure pour les instructions DBCC.<br /><br />**Étendue** : globale ou de session|
|**2549**|Force la commande DBCC CHECKDB à supposer que chaque fichier de base de données se trouve sur un lecteur de disque unique, tout en traitant différents fichiers physiques comme un seul fichier logique. La commande DBCC CHECKDB génère une liste interne de pages à lire par lecteur de disque unique sur tous les fichiers de base de données. Cette logique détermine les lecteurs de disque uniques en fonction de la lettre de lecteur du nom de fichier physique de chaque fichier.<br /><br />**Remarque :** N’utilisez pas cet indicateur de trace, sauf si vous savez que chaque fichier est basé sur un disque physique unique.<br /><br />**Remarque :** Même si cet indicateur de trace améliore les performances des commandes DBCC CHECKDB qui ciblent l’utilisation de l’option PHYSICAL_ONLY, certains utilisateurs peuvent ne constater aucune amélioration. Alors que cet indicateur de trace améliore l’utilisation des ressources d’E/S de disque, les performances sous-jacentes des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Étendue** : globale uniquement| 
|**2562**|Exécute la commande DBCC CHECKDB dans un seul « lot », quel que soit le nombre d’index dans la base de données. Par défaut, la commande DBCC CHECKDB tente de réduire les ressources TempDB en limitant le nombre d’index ou de « faits » générés à l’aide d’un concept de « lots ». Mais cet indicateur de trace impose tout le traitement dans un lot.<br /><br />Un effet de l’utilisation de cet indicateur de trace est que l’espace nécessaire pour TempDB peut augmenter. La taille de TempDB peut atteindre jusqu’à 5 % ou plus de la base de données utilisateur qui est en cours de traitement par la commande DBCC CHECKDB.<br /><br />**Remarque :** Même si cet indicateur de trace améliore les performances des commandes DBCC CHECKDB qui ciblent l’utilisation de l’option PHYSICAL_ONLY, certains utilisateurs peuvent ne constater aucune amélioration. Alors que cet indicateur de trace améliore l’utilisation des ressources d’E/S de disque, les performances sous-jacentes des ressources de disque peuvent limiter les performances globales de la commande DBCC CHECKDB. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2634571).<br /><br />**Étendue** : globale uniquement|
|**2566**|Exécute la commande DBCC CHECKDB sans vérification de l’intégrité des données, sauf si l’option `DATA_PURITY` est spécifiée.<br /><br />**Remarque :** Les vérifications d'intégrité sur la base colonne-valeur sont activées par défaut et ne nécessitent pas l'option DATA_PURITY. Pour les bases de données mises à niveau à partir de versions antérieures de SQL Server, les vérifications sur la base colonne-valeur ne sont pas activées par défaut tant que la commande `DBCC CHECKDB WITH DATA_PURITY` n’est pas exécutée sans erreur sur cette base de données au moins une fois. Ensuite, DBCC CHECKDB vérifie l'intégrité sur la base colonne-valeur par défaut. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/945770).<br /><br />**Étendue** : globale uniquement|
|**2592**|<a name="2592"></a>Permet la résolution des symboles lors des vidages de pile, lorsque les *outils de débogage pour Windows* sont installés. Par exemple, l’utilisation de l’indicateur de trace 3656 requiert l’activation de l’indicateur de trace 2592. Pour plus d’informations, consultez ce [Livre blanc Microsoft](https://www.microsoft.com/download/details.aspx?id=26666).<br /><br />**AVERTISSEMENT :** Il s’agit d’un indicateur de trace de débogage qui ne doit pas être utilisé dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et aux builds ultérieures. <br/><br/>**Étendue** : globale et de session|
|**3023**|Active l’option CHECKSUM comme valeur par défaut pour la commande BACKUP. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2656988).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)], ce comportement est contrôlé en définissant l’option de configuration **de la somme de contrôle de sauvegarde par défaut**. Pour plus d’informations, consultez [Options de configuration de serveur &#40;SQL Server&#41;](../../database-engine/configure-windows/server-configuration-options-sql-server.md).<br /><br />**Étendue** : globale et de session|
|**3042**|Contourne l'algorithme de préallocation de compression de sauvegarde par défaut pour permettre au fichier de sauvegarde de croître autant que nécessaire uniquement afin d'atteindre sa taille définitive. Cet indicateur de trace est utile si vous devez économiser de l'espace en allouant uniquement la taille réelle requise pour la sauvegarde compressée. L'utilisation de cet indicateur de trace peut diminuer légèrement les performances (augmentation possible de la durée de l'opération de sauvegarde). Pour plus d’informations sur l’algorithme de préallocation, consultez [Compression de sauvegardes &#40;SQL Server&#41;](../../relational-databases/backup-restore/backup-compression-sql-server.md).<br /><br />**Étendue** : globale uniquement|
|**3051**|Active la journalisation de la sauvegarde [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] vers une URL dans un fichier journal des erreurs spécifique. Pour plus d’informations, consultez [Bonnes pratiques et dépannage de sauvegarde SQL Server vers une URL](../../relational-databases/backup-restore/sql-server-backup-to-url-best-practices-and-troubleshooting.md).<br /><br />**Étendue** : globale uniquement|  
|**3205**|Par défaut, si une unité sur bande gère la compression matérielle, l'instruction DUMP ou BACKUP en fera usage. Cet indicateur de trace permet de désactiver la compression matérielle pour les unités de sauvegarde sur bande. Cette option peut s'avérer utile lorsque vous souhaitez échanger des bandes avec d'autres sites ou les utiliser avec des unités qui ne gèrent pas la compression.<br /><br />**Étendue** : globale ou de session|  
|**3226**|Par défaut, chaque opération de sauvegarde réussie ajoute une entrée au journal des erreurs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] et au journal des événements système. Si vous créez de fréquentes sauvegardes du fichier journal, ces messages de réussite peuvent rapidement s’accumuler, créer des journaux des erreurs très volumineux et compliquer la recherche d’autres messages.<br /><br />Avec cet indicateur de trace, vous pouvez supprimer ces entrées de journal. L'activation de cet indicateur de trace est utile si vous exécutez des sauvegardes de fichiers journaux fréquentes et si aucun de vos scripts ne dépend de ces entrées.<br /><br />**Étendue** : globale uniquement|   
|**3427**|Active la correction d’un problème quand de nombreuses transactions consécutives insèrent des données dans des tables temporaires dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] où cette opération consomme plus d’UC que dans [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/3216543).<br /><br />**Remarque :** Cet indicateur de trace s’applique de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 CU2 à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2 CU2. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2 CU3 et [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], cet indicateur de trace n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|  
|**3459**|Désactive la restauration par progression parallèle. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/3200975) et cet [article du support technique Microsoft](https://support.microsoft.com/help/4101554).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], à [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement| 
|**3468**|Désactive les [points de contrôle indirects](../../relational-databases/logs/database-checkpoints-sql-server.md#IndirectChkpt) sur TempDB.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 CU5, à [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU1 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement|  
|**3605**|<a name="3605"></a>Redirige les messages de traçage vers le journal des erreurs [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. Par exemple, l’utilisation des indicateurs de trace 205 et 8721 nécessite l’activation de l’indicateur de trace 3605.<br /><br />**AVERTISSEMENT :** Il s’agit d’un indicateur de trace de débogage qui ne doit pas être activé en continu dans un environnement de production.<br /><br />**Étendue** : globale ou de session|  
|**3608**|Empêche [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] de démarrer automatiquement et de récupérer des bases de données, sauf la base de données **master**. Si des activités qui nécessitent **TempDB** sont lancées, **model** est récupérée et **TempDB** est créée. Les autres bases de données ne sont démarrées et récupérées qu'en cas d'accès. Certaines fonctionnalités, telles que le niveau d'isolement d'instantané et l'instantané Read Committed, peuvent ne pas fonctionner. Utilisé pour [Déplacer des bases de données système](../../relational-databases/databases/move-system-databases.md) et [Déplacer des bases de données utilisateur](../../relational-databases/databases/move-user-databases.md).<br /><br />**Remarque :** Ne pas utiliser au cours du fonctionnement normal.<br /><br />**Étendue** : globale uniquement|   
|**3625**|Limite la quantité d’informations retournée aux utilisateurs qui ne sont pas membres du rôle serveur fixe sysadmin, en masquant les paramètres de certains messages d’erreur à l’aide de « \*\*\*\*\*\* ». Cela peut permettre d'éviter la divulgation d'informations sensibles.<br /><br />**Étendue** : globale uniquement|  
|**3656**|Permet la résolution des symboles lors des vidages de pile, lorsque les outils de débogage pour Windows sont installés. Pour plus d’informations, consultez ce [Livre blanc Microsoft](https://www.microsoft.com/download/details.aspx?id=26666).<br /><br />**AVERTISSEMENT :** Il s’agit d’un indicateur de trace de débogage qui ne doit pas être utilisé dans un environnement de production.<br /><br />**Remarque :** À compter de [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], l’indicateur de trace [2592](#2592) doit être activé conjointement avec l’indicateur de trace 3656 pour activer la résolution des symboles. <br/><br/>**Étendue** : globale et de session|
|**3924**|Active la suppression automatique des transactions DTC orphelines avec SPID=-2, ce qui représente un problème pour certains moniteurs de transactions tiers. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/4519668) et cet [article du support technique Microsoft](https://support.microsoft.com/help/4511816).<br /><br />**Étendue** : globale uniquement|  
|**4136**|Désactive la détection des paramètres, sauf si OPTION(RECOMPILE), WITH RECOMPILE ou OPTIMIZE FOR \<value> est utilisé. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/980653).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option PARAMETER_SNIFFING dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />Pour obtenir le même résultat au niveau de la requête, ajoutez l’[indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) OPTIMIZE FOR UNKNOWN. L’indicateur OPTIMIZE FOR UNKNOWN ne désactive pas le mécanisme de détection de paramètres, mais l’ignore pour obtenir le même résultat prévu.<br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, une seconde option pour effectuer cette opération au niveau de la requête consiste à ajouter [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_PARAMETER_SNIFFING' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale ou de session|  
|**4137**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise la sélectivité minimale lors de l’évaluation des prédicats AND des filtres à prendre en compte pour la corrélation partielle à la place de l’indépendance, sous le modèle d’estimation de la cardinalité de l’optimiseur de requête de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et versions antérieures (70). Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2658214).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez l’[indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' au lieu d’utiliser cet indicateur de trace avec l’estimation de cardinalité 70.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 120 ou ultérieure. Utilisez l’indicateur de trace 9471 à la place.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)| 
|**4138**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui n’utilise pas les ajustements d’objectif de lignes avec les requêtes contenant les mots clés TOP, OPTION (FAST N), IN ou EXISTS. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2667211).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'DISABLE_OPTIMIZER_ROWGOAL' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)| 
|**4139**|Active automatiquement la génération de statistiques rapides (modification de l’histogramme) quel que soit l’état de la colonne clé. Si l’indicateur de trace 4139 est défini, quel que soit l’état de la première colonne de statistiques (croissant, décroissant ou stationnaire), l’histogramme utilisé pour estimer la cardinalité sera ajusté au moment de la compilation de la requête. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2952101).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_HIST_AMENDMENT_FOR_ASC_KEYS' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 70. Utilisez les indicateurs de trace 2389 et 2390 à la place.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**4199**|<a name="4199"></a>Active les corrections de l’optimiseur de requête publiées dans les mises à jour cumulatives et les Service Packs de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)].<br /><br />Les modifications de l’optimiseur de requête apportées à de précédentes versions de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont activées par défaut sous le [niveau de compatibilité](../../t-sql/statements/alter-database-transact-sql-compatibility-level.md) de base de données le plus récent dans une version de produit donnée, sans activer l’indicateur de trace 4199.<br /><br />Le tableau suivant décrit le comportement lors de l’utilisation de niveaux de compatibilité de base de données spécifiques et de l’indicateur de trace 4199. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/974006).<br /><br /><table border="1" frame="void" width="550"><tr valign="middle" align="center"><td>**Version du moteur de base de données**</td><td>**Niveau de compatibilité de la base de données**</td><td>**Indicateur de trace 4199**</td><td>**Modifications de l’optimiseur de requête de tous les précédents niveaux de compatibilité de base de données**</td><td>**Modifications de l’optimiseur de requête pour la version post-RTM du moteur de base de données**</td></tr><tr valign="middle" align="center"><td rowspan="4">**13** ([!INCLUDE[ssSQL15](../../includes/sssql15-md.md)])</td><td rowspan="2">**100 à 120**</td><td>Off</td><td>Désactivé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**130** (par défaut)</td><td>Off</td><td>activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="6">**14** ([!INCLUDE[ssSQL17](../../includes/sssql17-md.md)])</td><td rowspan="2">**100 à 120**</td><td>Off</td><td>Désactivé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**130**</td><td>Off</td><td>activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**140** (par défaut)</td><td>Off</td><td>activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="6">**15** ([!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)]) et **12** ([!INCLUDE[ssSDSfull](../../includes/sssdsfull-md.md)])</td><td rowspan="2">**100 à 120**</td><td>Off</td><td>Désactivé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**130 à 140**</td><td>Off</td><td>activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr><tr valign="middle" align="center"><td rowspan="2">**150** (par défaut)</td><td>Off</td><td>activé</td><td>Désactivé</td></tr><tr valign="middle" align="center"><td>Il en va</td><td>activé</td><td>activé</td></tr></table><br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option QUERY_OPTIMIZER_HOTFIXES dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ENABLE_QUERY_OPTIMIZER_HOTFIXES' au lieu d’utiliser cet indicateur de trace.<br /><br />**Important :** Les correctifs de l’optimiseur de requête qui résolvent les erreurs relatives à des résultats erronés ou à des violations d’accès ne sont pas activés par l’indicateur de trace 4199. Ces correctifs ne sont pas facultatifs et sont donc activés par défaut une fois que le package de mise à jour est installé.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**4610**|Augmente la taille de la table de hachage qui stocke les entrées de cache d’un facteur de 8. Quand il est utilisé avec l’indicateur de trace 4618, augmente le nombre d’entrées dans la banque de cache TokenAndPermUserStore jusqu’à 8 192. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/959823) et cet [article du support technique Microsoft](https://support.microsoft.com/kb/955644).<br /><br />**Étendue** : globale uniquement|
|**4616**|Permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur. Dans [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], un rôle d'application ne peut pas accéder à des métadonnées situées en dehors de sa propre base de données car les rôles d'application ne sont pas associés à un principal au niveau serveur. Il s'agit là d'une différence par rapport aux versions antérieures de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)]. La définition de cet indicateur global désactive les nouvelles restrictions et permet aux rôles d'application d'accéder aux métadonnées au niveau du serveur.<br /><br />**Étendue** : globale uniquement|
|**4618**|Limite le nombre d’entrées dans la banque de cache TokenAndPermUserStore à 1 024. Quand il est utilisé avec l’indicateur de trace 4610, augmente le nombre d’entrées dans la banque de cache TokenAndPermUserStore jusqu’à 8 192. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Étendue** : globale uniquement|
|**4621**|Limite le nombre d’entrées dans le magasin de cache TokenAndPermUserStore au nombre spécifié par l’utilisateur dans une clé de Registre. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/959823).<br /><br />**Étendue** : globale uniquement|
|**5004**|Suspend l’analyse du chiffrement TDE et provoque l’arrêt du travail d’analyse du chiffrement sans effectuer la moindre tâche. La base de données reste dans l’état de chiffrement (chiffrement en cours). Pour reprendre l’analyse de rechiffrement, désactivez l’indicateur de trace 5004 et exécutez l’instruction ALTER DATABASE <nom_base_de_données> SET ENCRYPTION ON. <br /><br />**Étendue** : globale uniquement|
|**6498**|Active la compilation de plusieurs requêtes volumineuses pour accéder à la grande passerelle quand la mémoire disponible est suffisante. Cet indicateur de trace peut être utilisé pour garder sous contrôle l’utilisation de la mémoire pour la compilation des requêtes entrantes, évitant ainsi les délais de compilation en cas de requêtes volumineuses simultanées. Il est basé sur le pourcentage 80 de la mémoire cible SQL Server et il permet la compilation d’une requête volumineuse par 25 gigaoctets (Go) de mémoire. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3024815).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur, et l’indicateur de trace 6498 n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|
|**6527**|Désactive la génération d'un vidage de la mémoire sur la première occurrence d'une exception mémoire insuffisante dans l'intégration du CLR. Par défaut,[!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] génère un petit vidage de la mémoire sur la première occurrence d’une exception d’insuffisance de mémoire dans le CLR. Le comportement de l'indicateur de trace est comme suit :<br /><ul><li>Si cela est utilisé comme indicateur de trace de démarrage, un vidage de mémoire n'est jamais généré. Toutefois, un vidage de la mémoire peut être généré si d'autres indicateurs de trace sont utilisés. <li>Si cet indicateur de trace est activé sur un serveur en exécution, un vidage de la mémoire ne sera pas généré automatiquement à partir de ce point. Toutefois, si un vidage de la mémoire a déjà été généré en raison d'une exception mémoire insuffisante dans le CLR, cet indicateur de trace n'aura aucun effet.</li></ul><br />**Étendue** : globale uniquement|
|**6532**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur, et l’indicateur de trace 6532 n’a pas d’effet.<br /><br />**Étendue** : globale et de session|
|**6533**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur, et l’indicateur de trace 6533 n’a pas d’effet.<br /><br />**Étendue** : globale et de session| 
|**6534**|Permet l’amélioration des performances des opérations de requête avec les types de données spatiales dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Les gains de performances varient en fonction de la configuration, des types de requêtes et des objets. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3107399).<br /><br />**Étendue** : globale uniquement|   
|**6545**|Active la sécurité CLR stricte. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4018930).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 CU10, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 CU6, [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] RTM CU7, [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 CU4 et aux builds ultérieures. À compter de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)], cette fonctionnalité est activée par défaut et l’indicateur de trace 6545 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**7314**|Impose le traitement des valeurs NUMBER avec une précision/échelle inconnue comme des valeurs double avec le fournisseur OLE DB. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3051993).<br /><br />**Étendue** : globale et de session|  
|**7412**|Active l’infrastructure légère de profilage des statistiques sur l’exécution des requêtes. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3170113).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1 et aux builds ultérieures. À compter de [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], cet indicateur de trace n’a aucun effet car le profilage léger est activé par défaut.<br /><br />**Étendue** : globale uniquement|
|**7470**|Active des calculs supplémentaires concernant les allocations de mémoire nécessaires pour les opérations de tri. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3088480).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP2 CU8, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU10, [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 CU3 et aux builds ultérieures.<br /><br />**AVERTISSEMENT :** L’indicateur de trace 7470 augmente les besoins en mémoire pour les requêtes utilisant des opérateurs de tri et peut avoir un impact sur la disponibilité de la mémoire pour les autres requêtes simultanées.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**7471**|Permet l’exécution de plusieurs instructions [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md) pour différentes statistiques sur une seule table simultanément. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3156157).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement|
|**7745**|Force le magasin des requêtes à ne pas vider les données sur le disque lors de l’arrêt de la base de données.<br /><br />**Remarque :** L’utilisation de cette trace peut entraîner la perte en cas d’arrêt des données du magasin des requêtes qui n’ont pas été vidées auparavant sur le disque. Pour un arrêt de [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)], la commande SHUTDOWN WITH NOWAIT peut être utilisée à la place de cet indicateur de trace pour forcer un arrêt immédiat.<br /><br />**Étendue** : globale uniquement|
|**7752**|Permet le chargement asynchrone du magasin des requêtes.<br /><br />**Remarque :** Utilisez cet indicateur de trace si [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] rencontre un nombre élevé d’attentes QDS_LOADDB liées à la charge synchrone du magasin des requêtes (comportement par défaut lors de la récupération de base de données).<br /><br />**Remarque :** À compter de [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)], ce comportement est contrôlé par le moteur, et l’indicateur de trace 7752 n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|
|**7806**|Active une connexion administrateur dédiée (DAC) sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Par défaut, aucune ressource DAC n'est réservée sur [!INCLUDE[ssExpress](../../includes/ssexpress-md.md)]. Pour plus d’informations, consultez [Connexion de diagnostic pour les administrateurs de base de données](../../database-engine/configure-windows/diagnostic-connection-for-database-administrators.md).<br /><br />**Étendue** : globale uniquement|  
|**8011**|Désactive la mémoire tampon en anneau pour le moniteur de ressource. Vous pouvez utiliser les informations de diagnostic de cette mémoire tampon en anneau pour diagnostiquer les conditions de mémoire insuffisante. Cependant, si vous utilisez cet indicateur de trace, les informations disponibles pour diagnostiquer les problèmes de performance et de fonctionnement avec [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont considérablement limitées. L’indicateur de trace 8011 s’applique toujours sur le serveur et a une portée globale. Vous pouvez activer l’indicateur de trace 8011 au démarrage ou dans une session utilisateur.<br /><br />**Étendue** : globale|
|**8012**|Désactive la mémoire tampon en anneau pour les planificateurs. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] enregistre un événement dans la mémoire tampon en anneau de planification chaque fois que l’un des événements suivants se produit : <br/> - un planificateur bascule le contexte vers un autre Worker <br/> - un Worker est suspendu <br/> - un Worker est repris <br/> - un Worker passe en mode préemptif ou en mode non préemptif. <br/><br/> Vous pouvez utiliser les informations de diagnostic de cette mémoire tampon en anneau pour analyser les problèmes de planification. Par exemple, vous pouvez utiliser les informations de cette mémoire tampon en anneau pour résoudre les problèmes lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] cesse de répondre. L’indicateur de trace 8012 désactive l’enregistrement des événements pour les planificateurs. Vous pouvez activer l’indicateur de trace 8012 uniquement au démarrage.<br /><br />**AVERTISSEMENT :** Lorsque vous utilisez cet indicateur de trace, les informations disponibles pour diagnostiquer les problèmes de performance et de fonctionnement avec [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont considérablement limitées.<br /><br />**Étendue** : globale uniquement|
|**8015**|Désactive la détection automatique et le programme d’installation de NUMA. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2813214).<br /><br />**Étendue** : globale uniquement|
|**8018**|Désactive la mémoire tampon en anneau de l’exception. La mémoire tampon en anneau d’exception enregistre les 256 dernières exceptions levées sur un nœud. Chaque enregistrement contient des informations sur l’erreur et contient une trace. Un enregistrement est ajouté à la mémoire tampon en anneau lorsqu’une exception est levée. L’indicateur de trace 8018 désactive la création de la mémoire tampon en anneau et aucune information sur les exceptions n’est enregistrée. L’indicateur de trace 8019 désactive la collection de piles pendant la création de l’enregistrement. <br /><br />**AVERTISSEMENT :** Lorsque vous utilisez cet indicateur de trace, les informations disponibles pour diagnostiquer les problèmes de performance et de fonctionnement avec [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont considérablement limitées. <br /><br />**Étendue** : globale uniquement|
|**8019**|Désactive la collecte de piles pour la mémoire tampon en anneau de l’exception. L’indicateur de trace 8019 n’a aucun effet si l’indicateur de trace 8018 est activé.<br /><br />**AVERTISSEMENT :** Lorsque vous utilisez cet indicateur de trace, les informations disponibles pour diagnostiquer les problèmes de performance et de fonctionnement avec [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] sont considérablement limitées.<br /><br />**Étendue** : globale uniquement|
|**8020**|Désactive la surveillance de la plage de travail. [!INCLUDE[ssNoVersion](../../includes/ssNoVersion-md.md)] utilise la taille de l’ensemble de travail lorsqu’elle reçoit des signaux d’état de la mémoire globale du système d’exploitation. L’indicateur de trace 8020 supprime la taille de la mémoire de l’ensemble de travail à prendre en compte lorsque [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] interprète les signaux d’état de la mémoire globale. Si vous utilisez cet indicateur de trace de manière incorrecte, une pagination importante peut se produire et les performances peuvent être médiocres. Par conséquent, contactez le Support Microsoft avant d’activer l’indicateur de trace 8020. Vous pouvez activer l’indicateur de trace 8020 uniquement au démarrage. <br /><br />**Étendue** : globale uniquement|
|**8032**|Rétablit les paramètres de limitation du cache au paramètre RTM [!INCLUDE[ssVersion2005](../../includes/ssversion2005-md.md)] qui permet en général aux caches d'être plus volumineux. Utilisez ce paramètre quand les entrées du cache fréquemment utilisées ne tiennent pas dans le cache et que l’ [option de configuration de serveur Optimiser pour les charges de travail ad hoc](../../database-engine/configure-windows/optimize-for-ad-hoc-workloads-server-configuration-option.md) ne permet pas de résoudre le problème avec le cache du plan.<br /><br />**AVERTISSEMENT :** L'indicateur de trace 8 032 peut altérer les performances si des caches volumineux diminuent la mémoire disponible pour les autres consommateurs, tels que le pool de mémoires tampons.<br /><br />**Étendue** : globale uniquement|   
|**8048**|Convertit les objets mémoire partitionnés par NUMA en objets partitionnés par UC. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 et [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est dynamique et contrôlé par le moteur.<br /><br />**Étendue** : globale uniquement|  
|**8075**|Réduit la fragmentation [VAS](../../relational-databases/memory-management-architecture-guide.md#changes-to-memory-management-starting-2012-11x-gm) quand vous recevez des erreurs d’allocation de page mémoire sur une version 64 bits de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] ou [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3074434).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)], à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] RTM CU10 et à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1 CU3. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 8075 n’a aucun effet.<br /><br />**Étendue** : globale uniquement|
|**8079**|Permet à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2 d’interroger la disposition matérielle et de configurer automatiquement le NUMA logiciel sur les systèmes ayant 8 UC ou plus par nœud NUMA. Le comportement du NUMA logiciel automatique est compatible Hyperthread (processeur logique/HT). Le partitionnement et la création de nœuds supplémentaires permettent de dimensionner le traitement en arrière-plan en augmentant le nombre d’écouteurs, le nombre d’instances, ainsi que les capacités réseau et de chiffrement.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP2. À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], ce comportement est contrôlé par le moteur. L’indicateur de trace 8079 n’a aucun effet.<br /><br />**Étendue** : globale uniquement| 
|**8099**|Active un correctif de contention de verrouillage tournant pour les systèmes haut de gamme qui exécutent [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] traitant de nombreux utilisateurs simultanés.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] CU2 et aux builds ultérieures. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4538688).<br /><br />**Étendue** : globale uniquement| 
|**8207**|Active les mises à jour singleton pour la réplication transactionnelle et CDC. Les mises à jour des abonnés peuvent être répliquées en une paire DELETE et une paire INSERT. Il est possible que cela ne réponde pas aux règles d’entreprise, par exemple le lancement d’un déclencheur UPDATE. Avec l’indicateur de trace 8207, une mise à jour d’une colonne unique qui n’affecte qu’une seule ligne (une mise à jour singleton) est répliquée en tant que UPDATE, et non pas en tant que paire DELETE ou INSERT. Si la mise à jour affecte une colonne qui a une contrainte d’unicité ou si la mise à jour affecte plusieurs lignes, elle est néanmoins répliquée en tant que paire DELETE ou INSERT. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/302341).<br /><br />**Étendue** : globale uniquement|
|**8721**|Crée un rapport dans le journal des erreurs lors de l’exécution d’une mise à jour automatique des statistiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/195565).<br /><br />**Remarque :** Cet indicateur de trace requiert l’activation de l’indicateur de trace [3605](#3605).<br /><br />**Étendue** : globale uniquement|
|**8744**|Désactive la prérécupération pour l’opérateur [Boucles imbriquées](../../relational-databases/performance/joins.md#nested_loops).<br /><br />**AVERTISSEMENT :** Une utilisation incorrecte de cet indicateur de trace peut entraîner des lectures physiques supplémentaires quand [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] exécute des plans qui contiennent l’opérateur de boucles imbriquées.<br /><br />**Étendue** : globale et de session|
|**9024**|Convertit un objet mémoire en pool du journal global en objet mémoire partitionné par nœud NUMA. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/2809338).<br /><br />**Remarque :** À compter de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] SP3 et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] SP1, ce comportement est contrôlé par le moteur, et l’indicateur de trace 9024 n’a pas d’effet.<br /><br />**Étendue** : globale uniquement|
|**9347**|Désactive le mode batch pour l’opérateur de tri. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] contient un nouvel opérateur de tri en mode batch qui améliore les performances pour de nombreuses requêtes analytiques. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3172787).<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**9349**|Désactive le mode batch pour l’opérateur de tri des N premiers. [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] contient un nouvel opérateur de tri en mode batch des premiers qui améliore les performances pour de nombreuses requêtes analytiques.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**9389**|Permet une allocation de mémoire dynamique supplémentaire pour les opérateurs en mode batch. Si une requête n’obtient pas toute la mémoire dont elle a besoin, elle répand des données sur TempDB, ce qui occasionne des E/S supplémentaires et affecte potentiellement les performances des requêtes. Si l’indicateur de trace d’allocation de mémoire dynamique est activé, un opérateur en mode batch peut demander plus de mémoire et éviter le débordement sur TempDB si de la mémoire supplémentaire est disponible. Pour plus d’informations, consultez la section *Effets de min memory per query* du [Guide d’architecture de gestion de la mémoire](../../relational-databases/memory-management-architecture-guide.md#effects-of-min-memory-per-query).<br /><br />**Étendue** : globale ou de session| 
|**9398**|Désactive l’opérateur de [jointure adaptative](../../relational-databases/performance/intelligent-query-processing.md#batch-mode-adaptive-joins) qui permet de différer une méthode de [jointure hachée ou de jointure de boucles imbriquées](../../relational-databases/performance/joins.md) tant que la première entrée n’a pas été analysée. Il s’agit là d’une nouvelle fonctionnalité de [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4099126).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**9453**|Désactive l’exécution en mode batch. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/help/4016902).<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue :** globale, de session ou de requête (QUERYTRACEON)|
|**9471**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise la sélectivité minimale pour les filtres de table unique sous le modèle d’estimation de la cardinalité de l’optimiseur de requête de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et versions ultérieures.<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_MIN_SELECTIVITY_FOR_FILTER_ESTIMATES' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Remarque :** Cet indicateur de trace ne s’applique pas à CE version 70. Utilisez l’indicateur de trace 4137 à la place.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)| 
|**9476**|Amène [!INCLUDE[ssNoVersion](../../includes/ssnoversion-md.md)] à générer un plan qui utilise l’hypothèse de relation contenant-contenu simple au lieu de l’hypothèse par défaut de relation contenant-contenu de base, sous le modèle d’estimation de la cardinalité de l’optimiseur de requête de [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)] et versions ultérieures. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3189675).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'ASSUME_JOIN_PREDICATE_DEPENDS_ON_FILTERS' au lieu d’utiliser cet indicateur de trace.<br /><br />**Remarque :** Veillez à tester soigneusement cette option avant de la déployer dans un environnement de production.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)| 
|**9481**|Permet de définir le modèle d’estimation de la cardinalité de l’optimiseur de requête sur les versions [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et antérieures, quel que soit le niveau de compatibilité de la base de données. Pour plus d’informations, consultez [l’article du support technique Microsoft](https://support.microsoft.com/kb/2801413).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], pour effectuer cette opération au niveau de la base de données, consultez l’option LEGACY_CARDINALITY_ESTIMATION dans [ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md).<br /><br />À compter de [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP1, pour effectuer cette opération au niveau de la requête, ajoutez [l’indicateur de requête](../../t-sql/queries/hints-transact-sql-query.md) USE HINT 'FORCE_LEGACY_CARDINALITY_ESTIMATION' au lieu d’utiliser cet indicateur de trace.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|  
|**9485**|Désactive les autorisations SELECT pour DBCC SHOW_STATISTICS.<br /><br />**Étendue** : globale uniquement|
|**9488**|<a name="9488"></a>Définit l’estimation fixe pour les fonctions table à la valeur par défaut 1 (correspondant à la valeur par défaut sous le modèle d’estimation de la cardinalité de l’optimiseur de requête des versions [!INCLUDE[ssKilimanjaro](../../includes/ssKilimanjaro-md.md)] et antérieures) quand vous utilisez le modèle d’estimation de la cardinalité de l’optimiseur de requête de [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et versions ultérieures.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|
|**9495**|Désactive le parallélisme lors de l’insertion pour les opérations INSERT...SELECT et applique cette mesure à la fois aux tables utilisateur et temporaires. Pour plus d’informations, consultez [l’article du support technique Microsoft](https://support.microsoft.com/kb/3180087)<br /><br />**Étendue** : globale ou de session| 
|**9567**|Active la compression du flux de données pour les groupes de disponibilité Always On au cours de l’amorçage automatique. La compression peut réduire considérablement le temps de transfert pendant l’amorçage automatique et augmente la charge sur le processeur. Pour plus d’informations, consultez [Initialiser automatiquement le groupe de disponibilité Always On](../../database-engine/availability-groups/windows/automatically-initialize-always-on-availability-group.md) et [Régler la compression pour un groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale ou de session|
|**9571**|Désactive l’amorçage automatique des groupes de disponibilité pour le chemin d’accès de la base de données par défaut. Pour plus d'informations, consultez [Disposition du disque](../../database-engine/availability-groups/windows/automatic-seeding-secondary-replicas.md).<br /><br />**Étendue** : globale ou de session| 
|**9591**|Désactive la compression de bloc de journal dans les groupes de disponibilité Always On. La compression de bloc de journal est le comportement par défaut utilisé avec les réplicas synchrones et asynchrones dans [!INCLUDE[ssSQL11](../../includes/sssql11-md.md)] et [!INCLUDE[ssSQL14](../../includes/sssql14-md.md)]. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], la compression est utilisée uniquement avec la réplication asynchrone. <br /><br />**Étendue** : globale ou de session|
|**9592**|Active la compression du flux de journal pour les groupes de disponibilité synchrones. Cette fonctionnalité est désactivée par défaut sur les groupes de disponibilité synchrones, car la compression ajoute une latence. Pour plus d’informations, consultez [Régler la compression pour le groupe de disponibilité](../../database-engine/availability-groups/windows/tune-compression-for-availability-group.md).<br /><br />**Étendue** : globale ou de session| 
|**9929**|Réduit les fichiers de point de contrôle en mémoire à 1 Mo chacun. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/3147012).<br /><br />**Étendue** : globale uniquement|  
|**9939**|Active les plans parallèles et l’analyse parallèle des tables à mémoire optimisée et des variables de table dans les opérations DML qui référencent des tables à mémoire optimisée ou des variables de table, tant qu’ils ne sont pas la cible de l’opération DML dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)]. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4013877).<br /><br />**Remarque :** L’indicateur de trace 9939 n’est pas nécessaire si l’indicateur de trace 4199 est également activé explicitement.<br /><br />**Étendue** : globale, de session ou de requête (QUERYTRACEON)|   
|**10204**|Désactive la fusion/recompression au cours de la réorganisation d’index columnstore. Dans [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)], quand un index columnstore est réorganisé, il existe une nouvelle fonctionnalité pour fusionner automatiquement les petits rowgroups compressés dans des rowgroups compressés plus importants, ainsi que pour recompresser les rowgroups avec un grand nombre de lignes supprimées.<br /><br />**Remarque :** L’indicateur de trace 10204 ne s’applique pas aux index columnstore qui sont créés sur des tables à mémoire optimisée.<br /><br />**Étendue** : globale ou de session|   
|**10316**|Permet de créer des index supplémentaires sur une [table temporelle de mise en lots à mémoire optimisée interne](../../relational-databases/tables/system-versioned-temporal-tables-with-memory-optimized-tables.md) à côté de l’index par défaut. Si vous avez un modèle de requête spécifique avec des colonnes qui ne sont pas couvertes par l’index par défaut, vous pouvez envisager d’en ajouter d’autres.<br /><br />**Remarque :** Les tables temporelles avec contrôle de version du système pour les tables à mémoire optimisée sont conçues pour fournir un débit transactionnel élevé. Sachez que la création d’index supplémentaires peut introduire une charge pour les opérations DML qui mettent à jour ou suppriment des lignes dans la table actuelle. Avec les index supplémentaires, vous devez trouver le juste équilibre entre les performances des requêtes temporelles et une charge DML supplémentaire.<br /><br />**Étendue** : globale ou de session|
|**11023**|Désactive l’utilisation du dernier taux d’échantillonnage enregistré pour toutes les mises à jour des statistiques suivantes où un taux d’échantillonnage n’est pas spécifié explicitement dans le cadre de l’instruction [UPDATE STATISTICS](../../t-sql/statements/update-statistics-transact-sql.md). Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4039284).<br /><br />**Étendue** : globale uniquement|    
|**11024**|Active le déclenchement de la mise à jour automatique des statistiques quand le nombre de modifications de n’importe quelle partition dépasse le [seuil](../../relational-databases/statistics/statistics.md#AutoUpdateStats) local. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4041811).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU3 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement| 
|**11047**|Applique le délai d’attente par défaut défini par `query wait (s)` ou la configuration `REQUEST_MEMORY_GRANT_TIMEOUT_SEC` de Resource Governor aux opérations de génération d’index columnstore. Pour plus d’informations, consultez cet [article du support technique Microsoft](https://support.microsoft.com/kb/4480641).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[ssSQL15](../../includes/sssql15-md.md)] SP2 CU5, [!INCLUDE[ssSQL17](../../includes/sssql17-md.md)] CU14 et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement| 
|**11064**|Améliore la scalabilité des opérations de chargement des données dans les index columnstore, en optimisant la distribution de la mémoire entre les instructions `SELECT` et `INSERT`. Pour plus d’informations sur le chargement de données dans un index columnstore, consultez [Index columnstore - Conseils en matière de chargement de données](../../relational-databases/indexes/columnstore-indexes-data-loading-guidance.md).<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement| 
|**11068**|Utilise la valeur configurée indiquant le degré maximal de parallélisme (MAXDOP) du serveur, de la base de données ou de la liste de ressources partagées pour les opérations d’insertion d’index columnstore. Pour plus d’informations sur le remplacement des degrés de parallélisme, consultez le [Guide d’architecture de traitement des requêtes](../../relational-databases/query-processing-architecture-guide.md#overriding-degrees-of-parallelism).<br /><br />**Important :** Cet indicateur de trace est effectif uniquement si l’indicateur de trace 11064 est également activé.<br /><br />**Important :** Utilisez cet indicateur de trace quand des chargements de données plus rapides sont préférés au maintien de la qualité de [segment columnstore](../../relational-databases/indexes/columnstore-indexes-overview.md#column-segment). Par exemple, l’utilisation de cet indicateur de trace lors du chargement de 1 048 577 lignes dans un columnstore peut générer plusieurs rowgroups compressés, si l’opération d’insertion s’exécute en mode parallèle. Sans cet indicateur de trace, l’opération d’insertion produirait un rowgroup compressé.<br /><br />**Remarque :** Cet indicateur de trace s’applique à [!INCLUDE[sql-server-2019](../../includes/sssqlv15-md.md)] et aux builds ultérieures.<br /><br />**Étendue** : globale uniquement| 
  
## <a name="examples"></a>Exemples  
 L’exemple suivant définit l’indicateur de trace 3205 pour toutes les sessions au niveau du serveur à l’aide de DBCC TRACEON.  
  
```sql  
DBCC TRACEON (3205,-1);  
```

Vous pouvez activer tous les correctifs affectant le plan contrôlés par les indicateurs de trace 4199 et 4137 pour une requête particulière.
  
```sql
SELECT x FROM correlated WHERE f1 = 0 AND f2 = 1 OPTION (QUERYTRACEON 4199, QUERYTRACEON 4137)
``` 
 
## <a name="see-also"></a>Voir aussi  
[Types de données &#40;Transact-SQL&#41;](../../t-sql/data-types/data-types-transact-sql.md)  
[DBCC INPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-inputbuffer-transact-sql.md)  
[DBCC OUTPUTBUFFER &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-outputbuffer-transact-sql.md)  
[DBCC TRACEOFF &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceoff-transact-sql.md)  
[DBCC TRACEON &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-traceon-transact-sql.md)  
[DBCC TRACESTATUS &#40;Transact-SQL&#41;](../../t-sql/database-console-commands/dbcc-tracestatus-transact-sql.md)  
[EXECUTE &#40;Transact-SQL&#41;](../../t-sql/language-elements/execute-transact-sql.md)  
[SELECT &#40;Transact-SQL&#41;](../../t-sql/queries/select-transact-sql.md)  
[SET NOCOUNT &#40;Transact-SQL&#41;](../../t-sql/statements/set-nocount-transact-sql.md)  
[ALTER DATABASE SET Options &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-transact-sql-set-options.md)  
[ALTER DATABASE SCOPED CONFIGURATION &#40;Transact-SQL&#41;](../../t-sql/statements/alter-database-scoped-configuration-transact-sql.md)  
[Indicateurs de requête (Transact-SQL)](../../t-sql/queries/hints-transact-sql-query.md)
